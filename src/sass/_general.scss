@mixin app-bg($image-url) {
	background:
		radial-gradient(circle at 62.5% $lhse*6,
			rgba(#fff, .2) 0vh,
			rgba(#fff, 0) 33.33vh,
			rgba(#000, 0) 66.67vh,
			rgba(#000, .2) 100vh
		) top $height-site-header center fixed no-repeat,
		url($image-url) top $height-site-header center no-repeat,
		$color-content-bg;
}

*,
*::before,
*::after {
	box-sizing: border-box;
	backface-visibility: hidden;
}
body {
	font: 20px/1.5 $font-family-standard;
	color: $color-text;
	background: $color-content-bg;
}
#app {
	@include app-bg('img/marble-texture-1080.jpg');
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	margin: 0 auto;
	position: relative;
	min-width: $min-width-site;
	padding-top: $height-site-header;
}
.wrap {
	max-width: $max-width-site;
	margin: 0 auto;
	padding: 0 $lhse;
}
main {
	flex-grow: 1;
	display: flex;
	align-items: center;
	position: relative;
	
	> article {
		margin: $lhse/2 auto;
	}
}
.bg-overlay {
	width: 100vw;
	height: 100vh;
	position: fixed;
	transition: all $transition-duration-standard*2 ease;
	background: rgba(darken($color-content-bg, 25%), .5);
	z-index: index($layers, bg-overlay);
	backdrop-filter: blur(4px);
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
}
.overlay-enter,
.overlay-leave-to {
  opacity: 0;
}
h1,
h2,
h3,
h4 {
	@include heading-font;
	line-height: 1;
	color: $color-text-brighter;
	margin-top: $lhse;
}
h2 {
	margin-top: $line-height-standard * .5rem;
}
p {
	margin: $lhse/2 0;
}
strong,
b {
	font-weight: $font-weight-semibold;
}
small {
	font-size: 75%;
	letter-spacing: (1/256)*1em;
}
::selection {
	background: saturate(darken($color-mythic-complement, 25%), 25%);
	color: #fff;
	text-shadow: none;
}
.fade-from-black {
	&-enter-active {
		transition: filter 1s ease;
	}
	&-enter {
		filter: brightness(0);
	}
}
.fade-to {
	&-enter-active {
		transition: opacity .5s ease;
	}
	&-leave-active {
		transition: opacity .25s ease;
	}
	&-enter,
	&-leave-to {
		opacity: 0;
	}
}

@media (min-width: 1081px) {
	#app {
		@include app-bg('img/marble-texture-1440.jpg')
	}
}
@media (min-width: 1441px) {
	#app {
		@include app-bg('img/marble-texture-1920.jpg')
	}
}
@media (min-width: 1921px) {
	#app {
		@include app-bg('img/marble-texture-2880.jpg')
	}
}
@media (min-width: 2881px) {
	#app {
		@include app-bg('img/marble-texture-3840.jpg')
	}
}
